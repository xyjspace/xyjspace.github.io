<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="前言在阅读《深入理解JVM虚拟机》这本书中类加载章节的时候，总是忘记class文件在内存中的格式，理解连接这个过程有点吃力。为了更好地理解JVM类加载的过程，也为了更深入理解JAVA底层的构造，在这里写下这篇JVM字节码内存分布，主要是写CLASS文件这一章的笔记还有部分思考。">
<meta name="keywords" content="class文件,JVM">
<meta property="og:type" content="article">
<meta property="og:title" content="JVM字节码内存分布">
<meta property="og:url" content="http://yoursite.com/2019/02/17/JVM字节码内存分布/index.html">
<meta property="og:site_name" content="斑马のCODE_HOME">
<meta property="og:description" content="前言在阅读《深入理解JVM虚拟机》这本书中类加载章节的时候，总是忘记class文件在内存中的格式，理解连接这个过程有点吃力。为了更好地理解JVM类加载的过程，也为了更深入理解JAVA底层的构造，在这里写下这篇JVM字节码内存分布，主要是写CLASS文件这一章的笔记还有部分思考。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-02-17T14:07:53.423Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JVM字节码内存分布">
<meta name="twitter:description" content="前言在阅读《深入理解JVM虚拟机》这本书中类加载章节的时候，总是忘记class文件在内存中的格式，理解连接这个过程有点吃力。为了更好地理解JVM类加载的过程，也为了更深入理解JAVA底层的构造，在这里写下这篇JVM字节码内存分布，主要是写CLASS文件这一章的笔记还有部分思考。">






  <link rel="canonical" href="http://yoursite.com/2019/02/17/JVM字节码内存分布/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>JVM字节码内存分布 | 斑马のCODE_HOME</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">斑马のCODE_HOME</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">你不要睡着了</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-search">
    <a href="/search/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-search"></i> <br />搜索</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/17/JVM字节码内存分布/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="斑马">
      <meta itemprop="description" content="你不要睡着了">
      <meta itemprop="image" content="/uploads/head_image.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="斑马のCODE_HOME">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JVM字节码内存分布
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-02-17 21:49:43" itemprop="dateCreated datePublished" datetime="2019-02-17T21:49:43+08:00">2019-02-17</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JVM/" itemprop="url" rel="index"><span itemprop="name">JVM</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/02/17/JVM字节码内存分布/#comments" itemprop="discussionUrl">
                  <span class="post-meta-item-text">评论数：</span> <span class="post-comments-count valine-comment-count" data-xid="/2019/02/17/JVM字节码内存分布/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>在阅读《深入理解JVM虚拟机》这本书中类加载章节的时候，总是忘记class文件在内存中的格式，理解<code>连接</code>这个过程有点吃力。为了更好地理解JVM类加载的过程，也为了更深入理解JAVA底层的构造，在这里写下这篇JVM字节码内存分布，主要是写CLASS文件这一章的笔记还有部分思考。<br><a id="more"></a></p>
<p>Java语言中的各种变量、关键字和运算符号的语义最终都是由多条字节码命令组合而成的。有些Java语言中会报错误的地方，在class层面却不会报错。这也是为什么类加载过程中需要加入字节码验证的原因。</p>
<p>任何一个Class文件都唯一对应一个类或者接口，但是类和接口的定义并非一定是以磁盘文件的形式存在。</p>
<p>class文件由<code>无符号数</code>和<code>表</code> 两种数据类型组成。</p>
<ul>
<li>无符号数<br>属于基本数据类型，分为u1,u2,u4,u8分表代表1字节，2字节，4字节，8字节。</li>
<li>表<br>由多个无符号数或者其它表构成的复杂数据类型。通常以<code>_info</code>结尾。</li>
</ul>
<h3 id="class文件组成预览"><a href="#class文件组成预览" class="headerlink" title="class文件组成预览"></a>class文件组成预览</h3><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>数量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>u4</td>
<td>magic</td>
<td>1</td>
<td>魔数，标识该文件为class文件</td>
</tr>
<tr>
<td>u2</td>
<td>minor_version</td>
<td>1</td>
<td>次版本号</td>
</tr>
<tr>
<td>u2</td>
<td>major_version</td>
<td>1</td>
<td>主版本号，1.7JDK 对应的为51</td>
</tr>
<tr>
<td>u2</td>
<td>constant_pool_count</td>
<td>1</td>
<td>常量池中常量的个数，计数从1开始</td>
</tr>
<tr>
<td>cp_info</td>
<td>constant_pool</td>
<td>constant_pool_count-1</td>
<td>描述class结构的各个表</td>
</tr>
<tr>
<td>u2</td>
<td>access_flags</td>
<td>1</td>
<td>访问标识符 详解如下</td>
</tr>
<tr>
<td>u2</td>
<td>this_class</td>
<td>1</td>
<td>类索引</td>
</tr>
<tr>
<td>u2</td>
<td>super_class</td>
<td>1</td>
<td>父类索引</td>
</tr>
<tr>
<td>u2</td>
<td>interfaces_count</td>
<td>1</td>
<td>实现接口的数目，如果没有那么为0</td>
</tr>
<tr>
<td>u2</td>
<td>interfaces</td>
<td>interfaces_count</td>
<td>接口的全限定名</td>
</tr>
<tr>
<td>u2</td>
<td>fields_count</td>
<td>1</td>
<td>字段的个数，不含父类的字段</td>
</tr>
<tr>
<td>field_info</td>
<td>fields</td>
<td>fields_count</td>
<td>字段表</td>
</tr>
<tr>
<td>u2</td>
<td>methods_count</td>
<td>1</td>
<td>方法个数</td>
</tr>
<tr>
<td>method_info</td>
<td>methods</td>
<td>methods_count</td>
<td>方法表</td>
</tr>
<tr>
<td>u2</td>
<td>attributes_count</td>
<td>1</td>
<td>属性的个数</td>
</tr>
<tr>
<td>attribute_info</td>
<td>attributes</td>
<td>attributes_count</td>
<td>属性表</td>
</tr>
</tbody>
</table>
<p>由上图所示：<br>无论数据结构是无符号数还是表，当描述同一类型但是数量不定的数据的时候，都是先使用前置容器计数器+若干个连续数据项。</p>
<p>具体的意思见下：</p>
<h3 id="常量池"><a href="#常量池" class="headerlink" title="常量池"></a>常量池</h3><p>常量池是Class文件中最重要，也最复杂的一个组成部分。主要存两大类数据: </p>
<ul>
<li>字面量<br>字面量比如<code>String</code>类型的字符串和声明为<code>final</code>的常量</li>
<li>符号引用<br>类和接口的全额限定名<br>字段的名称和描述符<br>方法的名称和描述符</li>
</ul>
<p>类的全限定名</p>
<blockquote>
<p>比如类的包地址+类为 <strong>com.xyj.study.Test</strong> 那么类的全限定名为<strong>com/xyj/study/Test</strong></p>
</blockquote>
<h5 id="表"><a href="#表" class="headerlink" title="表"></a>表</h5><p>在Jvm规范中，总共有14种表，这14种表分别代表不同的类型，各自拥有不同的数据结构。但是它们有一个共同点：<strong>表开始的第一位是一个u1类型的标志位</strong>。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>标志</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CONSTANT_Utf8_info</td>
<td>1</td>
<td>UTF-8编码的字符串</td>
</tr>
<tr>
<td>CONSTANT_Integer_info</td>
<td>3</td>
<td>整形字面量</td>
</tr>
<tr>
<td>CONSTANT_Float_info</td>
<td>4</td>
<td>浮点型字面量</td>
</tr>
<tr>
<td>CONSTANT_Long_info</td>
<td>5</td>
<td>长整型字面量</td>
</tr>
<tr>
<td>CONSTANT_Double_info</td>
<td>6</td>
<td>双精度浮点型字面量</td>
</tr>
<tr>
<td>CONSTANT_Class_info</td>
<td>7</td>
<td>类或者接口的符号引用</td>
</tr>
<tr>
<td>CONSTANT_String_info</td>
<td>8</td>
<td>字符串型字面量</td>
</tr>
<tr>
<td>CONSTANT_Fieldref_info</td>
<td>9</td>
<td>字段的符号引用</td>
</tr>
<tr>
<td>CONSTANT_Methodref_info</td>
<td>10</td>
<td>类中方法的符号引用</td>
</tr>
<tr>
<td>CONSTANT_InterfaceMethodref_info</td>
<td>11</td>
<td>接口中方法的符号引用</td>
</tr>
<tr>
<td>CONSTANT_NameAndType_info</td>
<td>12</td>
<td>字段或者方法的部分符号引用</td>
</tr>
<tr>
<td>CONSTANT_MethodHandle_info</td>
<td>15</td>
<td>方法句柄</td>
</tr>
<tr>
<td>CONSTANT_MethodType_info</td>
<td>16</td>
<td>方法类型</td>
</tr>
<tr>
<td>CONSTANT_InvokeDynamic_info</td>
<td>16</td>
<td>动态方法调用</td>
</tr>
</tbody>
</table>
<p>在上面这十四种表中最后三种为支持JDK1.7中新增的动态语言，暂时不做讲解。</p>
<h4 id="访问标志"><a href="#访问标志" class="headerlink" title="访问标志"></a>访问标志</h4><p>标识当前class文件代表的是类还是接口，是否为public, 是否为abstract类，是否被final修饰，是否是枚举。</p>
<h4 id="类索引，父类索引，接口索引集合"><a href="#类索引，父类索引，接口索引集合" class="headerlink" title="类索引，父类索引，接口索引集合"></a>类索引，父类索引，接口索引集合</h4><p>class文件中这三个数据来确定一个类的继承关系。<br>它们分别会保存类， 父类，接口集合的全限定名。<br>经过测试，父类的父类，以及接口的父接口，不会出现在集合中。这里只保存直接父类，和直接接口的全限定名。</p>
<h4 id="字段表集合"><a href="#字段表集合" class="headerlink" title="字段表集合"></a>字段表集合</h4><p>字段表集合用于描述接口或者类中的变量，包括类变量以及实例变量。</p>
<h5 id="字段表的数据结构"><a href="#字段表的数据结构" class="headerlink" title="字段表的数据结构"></a>字段表的数据结构</h5><table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>数量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>u2</td>
<td>access_flags</td>
<td>1</td>
<td>访问标志符号，例如作用于，final,static, volatile</td>
</tr>
<tr>
<td>u2</td>
<td>name_index</td>
<td>1</td>
<td>对常量池的引用，字段的简单名称</td>
</tr>
<tr>
<td>u2</td>
<td>descriptor_index</td>
<td>1</td>
<td>对常量池的引用，字段的描述符 详细如下</td>
</tr>
<tr>
<td>u2</td>
<td>attributes_count</td>
<td>1</td>
<td>属性表个数</td>
</tr>
<tr>
<td>attribute_info</td>
<td>attributes</td>
<td>attributes_count</td>
<td>字段属性</td>
</tr>
</tbody>
</table>
<p>属性表中可能会有ConstantValue属性，用来保存类变量（被static修饰）的值。</p>
<h5 id="描述符-descriptor"><a href="#描述符-descriptor" class="headerlink" title="描述符 descriptor"></a>描述符 descriptor</h5><p>描述符主要用来描述字段的数据类型，方法的参数列表和返回值。<br>描述符对应于一个NameAndType类型的表</p>
<p>CONSTANT_NameAndType_info:</p>
<ul>
<li>tag<br>  u1 值为12</li>
<li>index<br>  u2 指向字段或者方法名称常量项的索引</li>
<li>indext<br>  u20 <strong>指向字段或者方法描述符常量项的索引</strong></li>
</ul>
<p>描述符类型都有：</p>
<table>
<thead>
<tr>
<th>标识字符</th>
<th>含义</th>
<th>标识字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>基本类型byte</td>
<td>J</td>
<td>基本类型long</td>
</tr>
<tr>
<td>C</td>
<td>基本类型char</td>
<td>S</td>
<td>基本类型short</td>
</tr>
<tr>
<td>D</td>
<td>基本类型double</td>
<td>Z</td>
<td>基本类型boolean</td>
</tr>
<tr>
<td>F</td>
<td>基本类型float</td>
<td>V</td>
<td>特殊类型void</td>
</tr>
<tr>
<td>I</td>
<td>基本类型int</td>
<td>L</td>
<td>对象类型，例如 Ljava/lang/Object</td>
</tr>
</tbody>
</table>
<p>对象类型中包含了对象的全限定名</p>
<p>用描述符来描述一个方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">方法<span class="number">1</span>：<span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">描述符： <span class="params">()</span>V</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">方法2：Object <span class="title">test</span><span class="params">(<span class="keyword">char</span>[][] source, <span class="keyword">int</span> num, <span class="keyword">char</span>[] target)</span></span></span><br><span class="line"><span class="function">描述符:  <span class="params">([[CI[C)</span>Ljava/lang/Object</span></span><br></pre></td></tr></table></figure></p>
<h4 id="方法表集合"><a href="#方法表集合" class="headerlink" title="方法表集合"></a>方法表集合</h4><p>方法表的数据结构与字段表的数据结构相同，可以参考字段表的数据结构。<br>方法体都在attributes中存放， key为Code.<br>如果该类没有重写父类的方法，那么父类的方法不会再方法表的集合中出现。<br>编译器会给类自动添加<code>&lt;init&gt;`</code><clinit>`方法。这两个方法的具体作用在类加载的章节中介绍。所以虽然可能你的一个类中一个方法都没有，但是在class层面中方法表集合也不为空。</clinit></p>
<p>注意：<br>在java中方法的重载，需要参数个数，或者参数类型不同。如果仅仅是方法的返回值不同，那么在java中会认为是同一个方法，而不允许共存。但是在class层面，是允许仅仅返回值不同的两个方法共存的。</p>
<h4 id="属性表集合"><a href="#属性表集合" class="headerlink" title="属性表集合"></a>属性表集合</h4><p>上面已经提到过属性表，包括字段表中保存类变量值的<code>ConstantVlue</code> 以及方法表中存放方法体的<code>Code</code>。<br>编译器只会解析自己认识的属性，忽略不认识的属性。在Jdk1.7属性已达21项。</p>
<p>常用的有：</p>
<ul>
<li>Code 保存方法体</li>
<li>ConstantValue 保存常量值</li>
<li>Deprecated 标识方法或者字段过期</li>
<li>Exceptions 方法抛出的异常</li>
<li>EnclosingMethod 匿名类的外围方法</li>
<li>LocalVariableTable 方法的局部变量描述</li>
<li>Signature 记录参数的泛型类型</li>
</ul>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xyj.jvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassTest</span> <span class="keyword">implements</span> <span class="title">B</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        OutofMemoryTest outofMemoryTest = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> m+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 javap命令打印class文件解析后的内容<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">$ javap -v ClassTest.class</span><br><span class="line">Classfile /G:/02-study/java_study/target/classes/com/xyj/jvm/ClassTest.class</span><br><span class="line">  Last modified 2019-2-17; size 464 bytes</span><br><span class="line">  MD5 checksum e8b700e1c575574a1003e835ea4793f7</span><br><span class="line">  Compiled from "ClassTest.java"</span><br><span class="line">public class com.xyj.jvm.ClassTest implements com.xyj.jvm.B</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 52</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #4.#21         // java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">   #2 = Fieldref           #3.#22         // com/xyj/jvm/ClassTest.m:I</span><br><span class="line">   #3 = Class              #23            // com/xyj/jvm/ClassTest</span><br><span class="line">   #4 = Class              #24            // java/lang/Object</span><br><span class="line">   #5 = Class              #25            // com/xyj/jvm/B</span><br><span class="line">   #6 = Utf8               m</span><br><span class="line">   #7 = Utf8               I</span><br><span class="line">   #8 = Utf8               &lt;init&gt;</span><br><span class="line">   #9 = Utf8               ()V</span><br><span class="line">  #10 = Utf8               Code</span><br><span class="line">  #11 = Utf8               LineNumberTable</span><br><span class="line">  #12 = Utf8               LocalVariableTable</span><br><span class="line">  #13 = Utf8               this</span><br><span class="line">  #14 = Utf8               Lcom/xyj/jvm/ClassTest;</span><br><span class="line">  #15 = Utf8               inc</span><br><span class="line">  #16 = Utf8               ()I</span><br><span class="line">  #17 = Utf8               outofMemoryTest</span><br><span class="line">  #18 = Utf8               Lcom/xyj/jvm/OutofMemoryTest;</span><br><span class="line">  #19 = Utf8               SourceFile</span><br><span class="line">  #20 = Utf8               ClassTest.java</span><br><span class="line">  #21 = NameAndType        #8:#9          // "&lt;init&gt;":()V</span><br><span class="line">  #22 = NameAndType        #6:#7          // m:I</span><br><span class="line">  #23 = Utf8               com/xyj/jvm/ClassTest</span><br><span class="line">  #24 = Utf8               java/lang/Object</span><br><span class="line">  #25 = Utf8               com/xyj/jvm/B</span><br><span class="line">&#123;</span><br><span class="line">  public com.xyj.jvm.ClassTest();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V</span><br><span class="line">         4: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 3: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       5     0  this   Lcom/xyj/jvm/ClassTest;</span><br><span class="line"></span><br><span class="line">  public int inc();</span><br><span class="line">    descriptor: ()I</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=2, args_size=1</span><br><span class="line">         0: aconst_null</span><br><span class="line">         1: astore_1</span><br><span class="line">         2: aload_0</span><br><span class="line">         3: getfield      #2                  // Field m:I</span><br><span class="line">         6: iconst_1</span><br><span class="line">         7: iadd</span><br><span class="line">         8: ireturn</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 8: 0</span><br><span class="line">        line 9: 2</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       9     0  this   Lcom/xyj/jvm/ClassTest;</span><br><span class="line">            2       7     1 outofMemoryTest   Lcom/xyj/jvm/OutofMemoryTest;</span><br><span class="line">&#125;</span><br><span class="line">SourceFile: "ClassTest.java"</span><br></pre></td></tr></table></figure></p>
<h3 id="那么现在有一个疑问："><a href="#那么现在有一个疑问：" class="headerlink" title="那么现在有一个疑问："></a>那么现在有一个疑问：</h3><p>类有自己的全限定名，父类也有，接口也有，类变量以及实例变量也有对应的全限定名。那么局部变量的全限定名是如何确定的呢？<br>各个类型的全限定名查询路径：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>路径</th>
</tr>
</thead>
<tbody>
<tr>
<td>类</td>
<td>utf-8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>父类</td>
<td>utf-8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>接口</td>
<td>utf-8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>方法参数</td>
<td>this_class –&gt; Methodref –&gt; descriptor –&gt;  NameAndType –&gt; utf-8</td>
<td></td>
<td></td>
</tr>
<tr>
<td>字段</td>
<td>FieldRef –&gt; descriptor –&gt;  NameAndType –&gt; utf-8</td>
<td></td>
</tr>
</tbody>
</table>
<p>那么方法呢？</p>
<h4 id="方法体中的局部变量是如何与一个具体的类型进行绑定的呢？"><a href="#方法体中的局部变量是如何与一个具体的类型进行绑定的呢？" class="headerlink" title="方法体中的局部变量是如何与一个具体的类型进行绑定的呢？"></a>方法体中的局部变量是如何与一个具体的类型进行绑定的呢？</h4><p>我们首先看两个局部变量表中的属性：</p>
<ul>
<li><p>LineNumberTable:用于描述Java源码行号与字节码行号的对应关系。</p>
</li>
<li><p>LocalVariableTable:用于描述栈帧中局部变量表中变量与Java源码中定义变量之间的关系。</p>
</li>
</ul>
<blockquote>
<p>两个变量都可以通过在编译的时候指定 -g:none 来指定不生成。如果不生成的话我们在调用方法的时候将无法知道局部变量的具体名称，而且因为没有class文件与java源码之间行号的对应，所以无法打断点。</p>
</blockquote>
<p>如上面的例子最后生成的class文件所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">里面Code局部变量表里面有：</span><br><span class="line">LocalVariableTable:</span><br><span class="line">       Start  Length  Slot  Name   Signature</span><br><span class="line">           0       9     0  this   Lcom/xyj/jvm/ClassTest;</span><br><span class="line">           2       7     1 outofMemoryTest   Lcom/xyj/jvm/OutofMemoryTest;</span><br></pre></td></tr></table></figure></p>
<p>我本以为这里的localVariableTable是来限制局部变量的类型的。<br>但是经过测试：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xyj.jvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassTest</span></span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inc</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    OutofMemoryTest outofMemoryTest = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.m + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在编译的时候加入了 -g:none<br>解析class文件的结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">Classfile /G:/02-study/java_study/target/classes/com/xyj/jvm/ClassTest.class</span><br><span class="line">  Last modified 2019-2-17; size 230 bytes</span><br><span class="line">  MD5 checksum 33bc0256b1f620ed9916e02a4d43db32</span><br><span class="line">public class com.xyj.jvm.ClassTest implements com.xyj.jvm.B</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 52</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line">   #1 = Methodref          #4.#13         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">   #2 = Fieldref           #3.#14         // com/xyj/jvm/ClassTest.m:I</span><br><span class="line">   #3 = Class              #15            // com/xyj/jvm/ClassTest</span><br><span class="line">   #4 = Class              #16            // java/lang/Object</span><br><span class="line">   #5 = Class              #17            // com/xyj/jvm/B</span><br><span class="line">   #6 = Utf8               m</span><br><span class="line">   #7 = Utf8               I</span><br><span class="line">   #8 = Utf8               &lt;init&gt;</span><br><span class="line">   #9 = Utf8               ()V</span><br><span class="line">  #10 = Utf8               Code</span><br><span class="line">  #11 = Utf8               inc</span><br><span class="line">  #12 = Utf8               ()I</span><br><span class="line">  #13 = NameAndType        #8:#9          // &quot;&lt;init&gt;&quot;:()V</span><br><span class="line">  #14 = NameAndType        #6:#7          // m:I</span><br><span class="line">  #15 = Utf8               com/xyj/jvm/ClassTest</span><br><span class="line">  #16 = Utf8               java/lang/Object</span><br><span class="line">  #17 = Utf8               com/xyj/jvm/B</span><br><span class="line">&#123;</span><br><span class="line">  public com.xyj.jvm.ClassTest();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: return</span><br><span class="line"></span><br><span class="line">  public int inc();</span><br><span class="line">    descriptor: ()I</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=2, args_size=1</span><br><span class="line">         0: aconst_null</span><br><span class="line">         1: astore_1</span><br><span class="line">         2: aload_0</span><br><span class="line">         3: getfield      #2                  // Field m:I</span><br><span class="line">         6: iconst_1</span><br><span class="line">         7: iadd</span><br><span class="line">         8: ireturn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>发现LocalVariableTable的确没有了，而且在常量池中没有发现<code>OutofMemoryTest</code>类的限定名。<br>经过反编译：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xyj.jvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassTest</span></span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">B</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inc</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    Object localObject = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.m + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>OutofMemoryTest变成了Object.</p>
<p>但是如果我将<code>-g:none</code>去掉，常量池中又有了<code>OutofMemoryTest</code>类的限定名，反编译之后也能找到对应的类型了 。</p>
<p>结论: 方法体中的局部变量，如果在没有赋值之前，无论是什么类型都是可以的，因为没有地方使用，jvm也就不会去加载这个类。如果我将上面的代码  OutofMemoryTest outofMemoryTest = null; 改为 OutofMemoryTest outofMemoryTest; 那么在反编译之后，这一行代码都会消失！ 如果进行了赋值，那么对在常量池中生成对应的methodref_info，这个时候就有了对应的符号引用了。</p>
<hr>
<p>上面有笔记，也有思考，可能会有部分理解错误的地方。以后如果看到了，参考之上的思路就可以。</p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/class文件/" rel="tag"># class文件</a>
          
            <a href="/tags/JVM/" rel="tag"># JVM</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/15/Redis两种持久化原理/" rel="next" title="Redis两种持久化原理">
                <i class="fa fa-chevron-left"></i> Redis两种持久化原理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/02/18/Redis主从复制原理/" rel="prev" title="Redis主从复制原理">
                Redis主从复制原理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/head_image.png"
                alt="斑马" />
            
              <p class="site-author-name" itemprop="name">斑马</p>
              <p class="site-description motion-element" itemprop="description">你不要睡着了</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/xyjspace" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:21409714@qq.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.xiefayang.com" title="i蝸居年華_谢谢谢" target="_blank">i蝸居年華_谢谢谢</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class文件组成预览"><span class="nav-number">2.</span> <span class="nav-text">class文件组成预览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常量池"><span class="nav-number">3.</span> <span class="nav-text">常量池</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#表"><span class="nav-number">3.0.1.</span> <span class="nav-text">表</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#访问标志"><span class="nav-number">3.1.</span> <span class="nav-text">访问标志</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类索引，父类索引，接口索引集合"><span class="nav-number">3.2.</span> <span class="nav-text">类索引，父类索引，接口索引集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字段表集合"><span class="nav-number">3.3.</span> <span class="nav-text">字段表集合</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#字段表的数据结构"><span class="nav-number">3.3.1.</span> <span class="nav-text">字段表的数据结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#描述符-descriptor"><span class="nav-number">3.3.2.</span> <span class="nav-text">描述符 descriptor</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#方法表集合"><span class="nav-number">3.4.</span> <span class="nav-text">方法表集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#属性表集合"><span class="nav-number">3.5.</span> <span class="nav-text">属性表集合</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#测试"><span class="nav-number">4.</span> <span class="nav-text">测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#那么现在有一个疑问："><span class="nav-number">5.</span> <span class="nav-text">那么现在有一个疑问：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#方法体中的局部变量是如何与一个具体的类型进行绑定的呢？"><span class="nav-number">5.1.</span> <span class="nav-text">方法体中的局部变量是如何与一个具体的类型进行绑定的呢？</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">斑马</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  








  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
  
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(function (item) {
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'rYwUgHvNR0gs6G3tecTA4TGB-gzGzoHsz',
        appKey: 'fWcscBws5bQ6QjCfC9S7knPc',
        placeholder: 'Just go go',
        avatar:'identicon',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
